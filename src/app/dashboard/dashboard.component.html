<main>
  <section>
    <div class="max-h-max ml-8 flex flex-row ">
    <div class="w-2/3 ">
      <div
        class="{{ 'bg-right-bottom bg-custom-bg h-1/3 rounded-3xl p-6 bg-no-repeat flex flex-col justify-between mt-8 mb-8 mr-8' }}"  
      >
        <div class="flex flex-row justify-between">
          <h3 class="text-white text-3xl font-bold"> {{ modeofDay()}}, John</h3>
          <select
            name="location"
            id=""
            class="border-1 border-white bg-gray-400 py-1 px-3 rounded-md  text-xl font-semibold"
          >
            <option value="bangladesh" label="">{{ getLocation()?.country  }} {{ getLocation()?.name }}</option>
          </select>
        </div>
        <div class="flex flex-row  justify-between items-center">
       
        <div class="align-bottom text-white">
          <h2 class="text-5xl font-bold">{{ dateFormat(weatherData()?.current?.time ?? "", "h.m a") }}</h2>
          <p class="font-medium text-md pt-3">{{ dateFormat(weatherData()?.current?.time ?? "", "EEEE, LLLL dd") }}</p>
          <p class="font-medium text-md pt-5">Weather Forecast</p>
          <h2 class="font-semibold text-2xl">{{ weatherData()?.current?.symbolPhrase ?? "" | capitalizeFirst }}</h2>
          <p class="font-medium text-md">
             Precipitation: {{ (weatherData()?.current?.precipRate ?? 0.01) * 100 }}%
          </p>
        </div>
        <div class="h-28 w-40">
          <!-- Image tag -->
          <img alt="Image"  [src]="'../../assets/symbols/' + weatherData()?.current?.symbol + '.png'"  >
          <!-- <img alt="Image"  [src]="'../../assets/symbols/d200.png'"  > -->
        </div>
      </div>
      </div>

      <div>
        <canvasjs-chart
          [options]="chartOptions"
          (chartInstance)="getChartInstance($event)"
         
        ></canvasjs-chart>
        <!-- <canvasjs-chart
          [options]="chartOptionsBarChart"
          [styles]="{ width: '100%', height: '260px' }"
        ></canvasjs-chart> -->
      </div>
    </div>
    <div
      class=" w-1/3 bg-[radial-gradient(farthest-corner,_var(--tw-gradient-stops))] from-blue-800 via-blue-800 via-20% to-indigo-950">
      <div class="flex flex-row justify-end m-8">
        <span class="w-14 h-8 bg-white rounded-full text-center items-center align-middle flex pl-2">
          <span class="w-5 h-5 bg-primary rounded-full"></span>
        </span>
      </div>
      <div class="text-center text-white tracking-wider flex flex-col items-center w-full">
        <div class="h-14 w-24">
       <img alt="Image"  [src]="'../../assets/symbols/' + weatherData()?.current?.symbol + '.png'"  >

      </div>
        <h2 class="font-bold text-3xl pt-10">{{ weatherData()?.current?.temperature }}<sup>o</sup>C</h2>
        <h3 class="font-semibold">{{ weatherData()?.current?.symbolPhrase ?? "" | capitalizeFirst }}</h3>
        <p class="font-medium"><span class="text-lg px-5">Wind</span>  | <span class="text-lg px-5"> {{ weatherData()?.current?.windSpeed  }} kmh</span></p>
        <p class="font-medium text-md"> <span class="text-lg px-5">Hum </span>|  <span class="text-lg px-7"> {{ weatherData()?.current?.relHumidity  }} %</span></p>

      
      </div>

      <div class="flex flex-row justify-between px-8 py-10 text-white">
        <h3 class="font-bold text-2xl">Weather Forecast</h3>
        <select
          name="degree"
          id=""
          class="border-1 border-white bg-gray-400 py-1 px-3 rounded-md text-xl font-semibold"
        >
          <option value="bangladesh" label="" >Celcius</option>
        </select>
      </div>

      <div >
        @for (forecast of forecastData(); track $index) {
        <div class="flex flex-row items-center justify-between px-8 ">
          <div class="flex flex-row items-start" >
          <div class="h-8 w-12">
            <!-- <img alt="Image"  [src]="'../../assets/symbols/d200.png'"  > -->
          <img alt="Image"  [src]="'../../assets/symbols/' + forecast?.symbol + '.png'"  >

          </div>
          <div class="text-white flex flex-col pl-5">
            <p class="font-medium text-lg ">{{ dateFormat(forecast?.time ?? "", "EEEE, LLLL dd") }}</p>
            <h2 class="font-medium text-md text-gray-400">{{ forecast?.symbolPhrase ?? "" | capitalizeFirst }}</h2>

          </div>
        </div>
          <div class="flex flex-row items-center align-middle justify-center  text-white">
            <p class="text-3xl pr-8 text-gray-400">|</p>
            <h2 class="font-medium text-xl">{{ forecast?.temperature }}<sup class="pr-2">o</sup>C</h2>
          </div>
        </div>

        <div class="px-8 py-5">
          <span class="w-full border-t-2 border-t-blue-600 block h-1"></span>

        </div>
      }
      </div>

    </div>
  </div>
  </section>
</main>
